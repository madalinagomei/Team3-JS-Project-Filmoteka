{"mappings":"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","sources":["src/script.js"],"sourcesContent":["// HEADER CAROUSEL------------------------------------------------------------\n\n//import notiflix for pop-ups\n// import Notiflix from 'notiflix';\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  const carouselItems = document.querySelectorAll('.hero-carousel-item');\n  let currentIndex = 0;\n  const intervalTime = 10000;\n\n  function showNextImage() {\n    carouselItems[currentIndex].style.display = 'none';\n    currentIndex = (currentIndex + 1) % carouselItems.length;\n    carouselItems[currentIndex].style.display = 'block';\n  }\n  setInterval(showNextImage, intervalTime);\n});\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const apiKey = '584875d09aec925781121837a2fa3c3b';\n  const apiUrl = 'https://api.themoviedb.org/3';\n  const imgBaseUrl = 'https://image.tmdb.org/t/p/w500';\n  const movieList = document.getElementById('movie-list');\n  const movieDetails = document.getElementById('movie-details');\n  const overlay = document.getElementById('overlay');\n  const searchInput = document.querySelector('.search-form__input');\n  const searchIcon = document.querySelector('.svg-search');\n  const themeSwitch = document.getElementById('theme-switch');\n  const homeLink = document.getElementById('home-link');\n  const libraryLink = document.getElementById('library-link');\n  const mainContent = document.getElementById('main-content');\n  const libraryContent = document.getElementById('library-content');\n  const libraryMovieList = document.getElementById('library-movie-list');\n  const watchedBtn = document.getElementById('watched-btn');\n  const queueBtn = document.getElementById('queue-btn');\n\n  const NUMBEROFITEMSPERREQUEST = 20;\n  const NUMBEROFITEMSPERPAGE = 9;\n\n  let currentLibraryView = 'watched';\n  let currentPage = 1;\n  let totalPages = 20; // Assume 20 pages initially\n\n  // Fetch movies for the homepage\n\n  let genres = {};\n  fetch(`${apiUrl}/genre/movie/list?api_key=${apiKey}&language=en-US`)\n    .then(response => response.json())\n    .then(data => {\n      genres = data.genres.reduce((acc, genre) => {\n        acc[genre.id] = genre.name;\n        return acc;\n      }, {});\n      fetchMovies(currentPage);\n    });\n\n  // Display movies in the main content\n  function displayMovies(movies) {\n    movieList.innerHTML = '';\n\n    movies.forEach(movie => {\n      const movieItem = document.createElement('div');\n      movieItem.classList.add('movie-item', 'photo');\n\n      movieItem.innerHTML = `\n\n  <img src=\"${\n    imgBaseUrl + (movie.poster_path ? movie.poster_path : '/default.jpg')\n  }\" alt=\"${movie.title}\" onerror=\"this.src='/src/images/madalina.png';\">\n  <div class=\"glow-wrap\">\n    <i class=\"glow\"></i>\n  </div>\n    <h3>${movie.title}</h3>\n  <p>${movie.genre_ids.map(genreId => genres[genreId]).join(', ')} | ${\n        movie.release_date ? movie.release_date.split('-')[0] : 'N/A'\n      } </p>\n  <button class=\"add-to-library\" data-id=\"${\n    movie.id\n  }\" data-type=\"watched\">Add to Watched</button>\n  <button class=\"add-to-library\" data-id=\"${\n    movie.id\n  }\" data-type=\"queue\">Add to Queue</button>`;\n\n      movieItem.querySelectorAll('.add-to-library').forEach(button => {\n        button.addEventListener('click', e => {\n          e.stopPropagation();\n          addToLibrary(movie, button.dataset.type);\n        });\n      });\n      movieItem.addEventListener('click', () => {\n        displayMovieDetails(movie);\n      });\n      movieList.appendChild(movieItem);\n    });\n  }\n\n  //search functionality\n  function searchMovies() {\n    const query = searchInput.value.trim().toLowerCase();\n    if (query.length > 2) {\n      fetch(\n        `${apiUrl}/search/movie?api_key=${apiKey}&language=en-US&query=${query}`\n      )\n        .then(response => response.json())\n        .then(data => {\n          // Filter movies by title or genre\n          const filteredMovies = data.results.filter(movie => {\n            const titleMatch = movie.title.toLowerCase().includes(query);\n            const genreMatch = movie.genre_ids.some(genreId => {\n              const genreName = genres[genreId]\n                ? genres[genreId].toLowerCase()\n                : '';\n              return genreName.includes(query);\n            });\n            return titleMatch || genreMatch;\n          });\n          displayMovies(filteredMovies);\n        });\n    }\n  }\n\n  searchInput.addEventListener('keydown', event => {\n    if (event.key === 'Enter') {\n      event.preventDefault();\n      searchMovies();\n    }\n  });\n\n  searchIcon.addEventListener('click', () => {\n    searchMovies();\n  });\n\n  // Function to fetch movies for a given page\n  function fetchMovies(page) {\n    let needMorePages = false;\n    let completeData = [];\n\n    let actualPage =\n      Math.floor((page * NUMBEROFITEMSPERPAGE) / NUMBEROFITEMSPERREQUEST) + 1;\n    //console.log(\"actual page is \" + actualPage);\n\n    if (\n      page * NUMBEROFITEMSPERPAGE - NUMBEROFITEMSPERREQUEST * (actualPage - 1) <\n      NUMBEROFITEMSPERPAGE\n    ) {\n      needMorePages = true;\n    }\n\n    //console.log(\"actual page afterwards is \" + actualPage);\n\n    fetch(\n      `${apiUrl}/movie/popular?api_key=${apiKey}&language=en-US&page=${actualPage}`\n    )\n      .then(response => response.json())\n      .then(data1 => {\n        if (needMorePages) {\n          completeData = data1.results.slice(\n            ((page - 1) * NUMBEROFITEMSPERPAGE) % NUMBEROFITEMSPERREQUEST,\n            NUMBEROFITEMSPERREQUEST\n          );\n          fetch(\n            `${apiUrl}/movie/popular?api_key=${apiKey}&language=en-US&page=${\n              actualPage + 1\n            }`\n          )\n            .then(response => response.json())\n            .then(data2 => {\n              completeData = completeData.concat(\n                data2.results.slice(\n                  0,\n                  (page * NUMBEROFITEMSPERPAGE) % NUMBEROFITEMSPERREQUEST\n                )\n              );\n              displayMovies(completeData);\n              updatePagination();\n            });\n        } else {\n          displayMovies(\n            data1.results.slice(\n              ((page - 1) * NUMBEROFITEMSPERPAGE) % NUMBEROFITEMSPERREQUEST,\n              (page * NUMBEROFITEMSPERPAGE) % NUMBEROFITEMSPERREQUEST\n            )\n          );\n          updatePagination();\n        }\n      });\n  }\n\n  // Function to update pagination\n  function updatePagination() {\n    const pagination = document.getElementById('pagination');\n    pagination.innerHTML = ''; // Clear previous pagination buttons\n\n    // Create pagination buttons\n    const prevButton = createPaginationButton('«', 'prev');\n    pagination.appendChild(prevButton);\n\n    if (totalPages <= 7) {\n      for (let i = 1; i <= totalPages; i++) {\n        const pageButton = createPaginationButton(i, i);\n        if (i === currentPage) {\n          pageButton.classList.add('active');\n        }\n        pagination.appendChild(pageButton);\n      }\n    } else {\n      // Always show the first page button\n      const firstPageButton = createPaginationButton(1, 1);\n      pagination.appendChild(firstPageButton);\n      if (currentPage === 1) {\n        firstPageButton.classList.add('active');\n      }\n\n      if (currentPage > 4) {\n        const ellipsis = document.createElement('span');\n        ellipsis.textContent = '...';\n        pagination.appendChild(ellipsis);\n      }\n\n      const startPage = Math.max(2, currentPage - 2);\n      const endPage = Math.min(totalPages - 1, currentPage + 2);\n\n      for (let i = startPage; i <= endPage; i++) {\n        const pageButton = createPaginationButton(i, i);\n        if (i === currentPage) {\n          pageButton.classList.add('active');\n        }\n        pagination.appendChild(pageButton);\n      }\n\n      if (currentPage < totalPages - 3) {\n        const ellipsis = document.createElement('span');\n        ellipsis.textContent = '...';\n        pagination.appendChild(ellipsis);\n      }\n\n      // Always show the last page button\n      const lastPageButton = createPaginationButton(totalPages, totalPages);\n      pagination.appendChild(lastPageButton);\n      if (currentPage === totalPages) {\n        lastPageButton.classList.add('active');\n      }\n    }\n\n    const nextButton = createPaginationButton('»', 'next');\n    pagination.appendChild(nextButton);\n  }\n\n  // Function to create pagination button\n  function createPaginationButton(label, page) {\n    const button = document.createElement('button');\n    button.textContent = label;\n    button.setAttribute('data-page', page);\n    button.classList.add('pagination-item');\n    return button;\n  }\n\n  // Event listener for pagination buttons\n  document\n    .getElementById('pagination')\n    .addEventListener('click', function (event) {\n      const target = event.target;\n      if (target.tagName === 'BUTTON') {\n        const page = target.getAttribute('data-page');\n        if (page === 'prev') {\n          if (currentPage > 1) {\n            currentPage--;\n            fetchMovies(currentPage);\n          }\n        } else if (page === 'next') {\n          if (currentPage < totalPages) {\n            currentPage++;\n            fetchMovies(currentPage);\n          }\n        } else {\n          currentPage = parseInt(page);\n          fetchMovies(currentPage);\n        }\n      }\n    });\n\n  // ------------------------------Display movie details------------------------------ //\n  function displayMovieDetails(movie) {\n    let addOrRemoveWatched = 'Add to Watched';\n    let inWatched = false;\n    let addOrRemoveQueue = 'Add to Queue';\n    let inQueue = false;\n\n    let library = JSON.parse(localStorage.getItem('watched')) || [];\n\n    if (!library.some(libMovie => libMovie.id === movie.id)) {\n      //Notiflix.Notify.success(\"Movie not in watched library.\");\n    } else {\n      //Notiflix.Notify.info(\"Movie already in watched library.\");\n      addOrRemoveWatched = 'Remove from Watched';\n      inWatched = true;\n    }\n\n    library = JSON.parse(localStorage.getItem('queue')) || [];\n\n    if (!library.some(libMovie => libMovie.id === movie.id)) {\n      //Notiflix.Notify.success(\"Movie not in queue.\");\n    } else {\n      //Notiflix.Notify.info(\"Movie already in queue.\");\n      addOrRemoveQueue = 'Remove from Queue';\n      inQueue = true;\n    }\n\n    movieDetails.innerHTML = `\n    <div class=\"modal-container\">\n      <img src=\"${imgBaseUrl + movie.poster_path}\" alt=\"${movie.title}\">\n      <div class=\"modal-side-info\">\n      <h2>${movie.title}</h2>\n     \n      <div class=\"list-div\">\n      <ul class=\"left-list\">\n      <li>Vote/ Votes</li>\n      <li>Popularity</li>\n      <li>Original Title</li>\n      <li>Genre</li>\n      </ul>\n      <ul class=\"right-list\">\n      <li><span class=\"vote-average\">${movie.vote_average.toFixed(\n        1\n      )}</span> / ${movie.vote_count}</li>\n      <li>${movie.popularity}</li>\n      <li>${movie.original_title}</li>\n      <li>${movie.genre_ids.map(genreId => genres[genreId]).join(', ')}</li>\n\n      </ul>\n      </div>\n      <div class=\"side-info-about\">\n      <h4>About</h4>\n      <p>${movie.overview}</p>\n      </div>\n\n\n      <div class=\"button-group\">\n        <button class=\"add-to-watched\" data-id=\"${\n          movie.id\n        }\">${addOrRemoveWatched}</button>\n        <button class=\"add-to-queue\" data-id=\"${\n          movie.id\n        }\">${addOrRemoveQueue}</button>\n      </div>\n      </div>\n      \n      </div>\n      `;\n    console.log(movie);\n    movieDetails.classList.remove('hidden');\n    overlay.classList.remove('hidden');\n\n    movieDetails\n      .querySelector('.add-to-watched')\n      .addEventListener('click', () => {\n        if (!inWatched) {\n          addToLibrary(movie, 'watched');\n        } else {\n          removeFromLibrary(movie, 'watched');\n        }\n      });\n\n    movieDetails\n      .querySelector('.add-to-queue')\n      .addEventListener('click', () => {\n        if (!inQueue) {\n          addToLibrary(movie, 'queue');\n        } else {\n          removeFromLibrary(movie, 'queue');\n        }\n      });\n\n    // close modal\n    overlay.addEventListener('click', closeModal);\n  }\n\n  function closeModal() {\n    movieDetails.classList.add('hidden');\n    overlay.classList.add('hidden');\n    overlay.removeEventListener('click', closeModal);\n  }\n\n  // Theme switch functionality\n  themeSwitch.addEventListener('change', () => {\n    document.body.classList.toggle('dark-mode');\n    localStorage.setItem(\n      'dark-mode',\n      document.body.classList.contains('dark-mode')\n    );\n  });\n\n  // Load theme preference\n  if (localStorage.getItem('dark-mode') === 'true') {\n    document.body.classList.add('dark-mode');\n    themeSwitch.checked = true;\n  }\n  // navigation\n  homeLink.addEventListener('click', e => {\n    e.preventDefault();\n    mainContent.classList.remove('hidden');\n    libraryContent.classList.add('hidden');\n  });\n\n  libraryLink.addEventListener('click', e => {\n    e.preventDefault();\n    mainContent.classList.add('hidden');\n    libraryContent.classList.remove('hidden');\n    displayLibrary();\n  });\n\n  watchedBtn.addEventListener('click', () => {\n    currentLibraryView = 'watched';\n    displayLibrary();\n  });\n\n  queueBtn.addEventListener('click', () => {\n    currentLibraryView = 'queue';\n    displayLibrary();\n  });\n\n  // Add to library\n  function addToLibrary(movie, type) {\n    let library = JSON.parse(localStorage.getItem(type)) || [];\n\n    if (!library.some(libMovie => libMovie.id === movie.id)) {\n      library.push(movie);\n      localStorage.setItem(type, JSON.stringify(library));\n      Notiflix.Notify.success(`Successfully added movie to ${type}.`);\n    } else {\n      Notiflix.Notify.info(`Movie already in ${type}.`);\n    }\n    displayMovieDetails(movie);\n    displayLibrary(); // Refresh the library display after adding\n  }\n\n  // Library\n  function displayLibrary() {\n    libraryMovieList.innerHTML = '';\n    const library = JSON.parse(localStorage.getItem(currentLibraryView)) || [];\n\n    const noMoviesDiv = document.querySelector('.no-movies');\n\n    if (library.length === 0) {\n      noMoviesDiv.style.display = 'flex';\n    } else {\n      noMoviesDiv.style.display = 'none';\n\n      library.forEach(movie => {\n        const movieItem = document.createElement('div');\n        movieItem.classList.add('movie-item', 'photo');\n        movieItem.innerHTML = `\n        <img src=\"${imgBaseUrl + movie.poster_path}\" alt=\"${movie.title}\">\n        <h3>${movie.title}</h3>\n        <p>${movie.genre_ids.map(genreId => genres[genreId]).join(', ')} | ${\n          movie.release_date ? movie.release_date.split('-')[0] : 'N/A'\n        } </p>\n        <button class=\"remove-from-library\" data-id=\"${\n          movie.id\n        }\" data-type=\"${currentLibraryView}\">Remove</button>\n      `;\n\n        movieItem\n          .querySelector('.remove-from-library')\n          .addEventListener('click', e => {\n            e.stopPropagation();\n            removeFromLibrary(movie, currentLibraryView);\n          });\n\n        movieItem.addEventListener('click', () => {\n          displayMovieDetails(movie);\n        });\n        libraryMovieList.appendChild(movieItem);\n      });\n    }\n\n    // remove\n    function removeFromLibrary(movieToRemove, type) {\n      let library = JSON.parse(localStorage.getItem(type)) || [];\n      library = library.filter(movie => movie.id !== movieToRemove.id);\n      localStorage.setItem(type, JSON.stringify(library));\n      Notiflix.Notify.success('Successfully removed movie from library.');\n      displayLibrary();\n    }\n  }\n});\n//btn to top smooth animation\nfunction scrollToTop() {\n  const c = document.documentElement.scrollTop || document.body.scrollTop;\n  if (c > 0) {\n    window.requestAnimationFrame(scrollToTop);\n    window.scrollTo(0, c - c / 8);\n  }\n}\n\n// Show/hide the button based on the scroll position\nwindow.addEventListener('scroll', function () {\n  const scrollToTopBtn = document.getElementById('upward');\n  if (\n    document.documentElement.scrollTop > 300 ||\n    document.body.scrollTop > 300\n  ) {\n    scrollToTopBtn.style.display = 'block';\n  } else {\n    scrollToTopBtn.style.display = 'none';\n  }\n});\n\n// -----------------team modal=====================\n\n// ===========team modal 2==\n\n// close modal function\nfunction closeModal() {\n  document.getElementById('myModal').style.display = 'none';\n}\n\n// open modal function\nfunction openModal() {\n  document.getElementById('myModal').style.display = 'block';\n}\n\n// close modal click on x\ndocument.querySelector('.modal .close').addEventListener('click', closeModal);\n\n//close modal on out side click\nwindow.addEventListener('click', function (event) {\n  if (event.target == document.getElementById('myModal')) {\n    closeModal();\n  }\n});\n\n//avent open modal on click footer\ndocument.getElementById('footer-text').addEventListener('click', openModal);\n\n// hide modal\ndocument.addEventListener('DOMContentLoaded', function () {\n  closeModal();\n});\n\n// ++++++++-----------user modal auth+++++++---\n// Open and Close Modal\nconst modal = document.getElementById('auth-modal');\nconst closeButton = document.querySelector('.close-button');\nconst authTabs = document.querySelectorAll('.auth-tab');\nconst authForms = document.querySelectorAll('.auth-form');\n\ndocument.querySelectorAll('.auth-trigger').forEach(button => {\n  button.addEventListener('click', () => {\n    modal.style.display = 'flex';\n  });\n});\n\ncloseButton.addEventListener('click', () => {\n  modal.style.display = 'none';\n});\n\nwindow.addEventListener('click', event => {\n  if (event.target == modal) {\n    modal.style.display = 'none';\n  }\n});\n\nauthTabs.forEach(tab => {\n  tab.addEventListener('click', event => {\n    const target = event.target.getAttribute('data-target');\n\n    authTabs.forEach(t => t.classList.remove('active'));\n    event.target.classList.add('active');\n\n    authForms.forEach(form => {\n      if (form.id === target) {\n        form.classList.add('active');\n      } else {\n        form.classList.remove('active');\n      }\n    });\n  });\n});\n"],"names":["scrollToTop","c","document","documentElement","scrollTop","body","window","requestAnimationFrame","scrollTo","closeModal","getElementById","style","display","openModal","addEventListener","carouselItems","querySelectorAll","currentIndex","setInterval","length","apiKey","apiUrl","imgBaseUrl","movieList","movieDetails","overlay","searchInput","querySelector","searchIcon","themeSwitch","homeLink","libraryLink","mainContent","libraryContent","libraryMovieList","watchedBtn","queueBtn","NUMBEROFITEMSPERREQUEST","currentLibraryView","currentPage","totalPages","genres","displayMovies","movies","innerHTML","forEach","movie","movieItem","createElement","classList","add","poster_path","title","genre_ids","map","genreId","join","release_date","split","id","button","e","stopPropagation","addToLibrary","dataset","type","displayMovieDetails","appendChild","searchMovies","query","value","trim","toLowerCase","fetch","then","response","json","data","results","filter","titleMatch","includes","genreMatch","some","fetchMovies","page","needMorePages","completeData","actualPage","Math","floor","data1","slice","data2","concat","updatePagination","pagination","prevButton","createPaginationButton","firstPageButton","ellipsis","textContent","startPage","max","endPage","min","i","pageButton","lastPageButton","nextButton","label","setAttribute","addOrRemoveWatched","inWatched","addOrRemoveQueue","inQueue","library","JSON","parse","localStorage","getItem","libMovie","vote_average","toFixed","vote_count","popularity","original_title","overview","console","log","remove","removeFromLibrary","closeModal1","removeEventListener","Notiflix","Notify","info","push","setItem","stringify","success","displayLibrary","library1","noMoviesDiv","movieToRemove","reduce","acc","genre","name","event","key","preventDefault","target","tagName","getAttribute","parseInt","toggle","contains","checked","scrollToTopBtn","modal","closeButton","authTabs","authForms","tab","t","form"],"version":3,"file":"index.14fa65a5.js.map"}