function scrollToTop(){var e=document.documentElement.scrollTop||document.body.scrollTop;e>0&&(window.requestAnimationFrame(scrollToTop),window.scrollTo(0,e-e/8))}function closeModal(){document.getElementById("myModal").style.display="none"}function openModal(){document.getElementById("myModal").style.display="block"}document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".hero-carousel-item"),t=0;setInterval((function(){e[t].style.display="none",t=(t+1)%e.length,e[t].style.display="block"}),intervalTime)})),document.addEventListener("DOMContentLoaded",(function(){var e="584875d09aec925781121837a2fa3c3b",t="https://api.themoviedb.org/3",n="https://image.tmdb.org/t/p/w500",o=document.getElementById("movie-list"),a=document.getElementById("movie-details"),c=document.getElementById("overlay"),i=document.querySelector(".search-form__input"),d=document.querySelector(".svg-search"),l=document.getElementById("theme-switch"),r=document.getElementById("home-link"),s=document.getElementById("library-link"),u=document.getElementById("main-content"),m=document.getElementById("library-content"),v=document.getElementById("library-movie-list"),f=document.getElementById("watched-btn"),p=document.getElementById("queue-btn"),g=20,h="watched",y=1,E=20,L={};function b(e){o.innerHTML="",e.forEach((function(e){var t=document.createElement("div");t.classList.add("movie-item","photo"),t.innerHTML='\n\n  <img src="'.concat(n+(e.poster_path?e.poster_path:"/default.jpg"),'" alt="').concat(e.title,'" onerror="this.src=\'./images/fallback-orange.png\';">\n  <div class="glow-wrap">\n    <i class="glow"></i>\n  </div>\n    <h3>').concat(e.title,"</h3>\n  <p>").concat(e.genre_ids.map((function(e){return L[e]})).join(", ")," | ").concat(e.release_date?e.release_date.split("-")[0]:"N/A",' </p>\n  <button class="add-to-library" data-id="').concat(e.id,'" data-type="watched">Add to Watched</button>\n  <button class="add-to-library" data-id="').concat(e.id,'" data-type="queue">Add to Queue</button>'),t.querySelectorAll(".add-to-library").forEach((function(t){t.addEventListener("click",(function(n){n.stopPropagation(),q(e,t.dataset.type)}))})),t.addEventListener("click",(function(){M(e)})),o.appendChild(t)}))}function k(){var n=i.value.trim().toLowerCase();n.length>2&&fetch("".concat(t,"/search/movie?api_key=").concat(e,"&language=en-US&query=").concat(n)).then((function(e){return e.json()})).then((function(e){b(e.results.filter((function(e){var t=e.title.toLowerCase().includes(n),o=e.genre_ids.some((function(e){return(L[e]?L[e].toLowerCase():"").includes(n)}));return t||o})))}))}function S(n){var o=!1,a=[],c=Math.floor(9*n/g)+1;9*n-g*(c-1)<9&&(o=!0),fetch("".concat(t,"/movie/popular?api_key=").concat(e,"&language=en-US&page=").concat(c)).then((function(e){return e.json()})).then((function(i){o?(a=i.results.slice(9*(n-1)%g,g),fetch("".concat(t,"/movie/popular?api_key=").concat(e,"&language=en-US&page=").concat(c+1)).then((function(e){return e.json()})).then((function(e){b(a=a.concat(e.results.slice(0,9*n%g))),w()}))):(b(i.results.slice(9*(n-1)%g,9*n%g)),w())}))}function w(){var e=document.getElementById("pagination");e.innerHTML="";var t=I("«","prev");e.appendChild(t);var n=I(1,1);if(e.appendChild(n),1===y&&n.classList.add("active"),y>4){var o=document.createElement("span");o.textContent="...",e.appendChild(o)}for(var a=Math.max(2,y-2),c=Math.min(19,y+2),i=a;i<=c;i++){var d=I(i,i);i===y&&d.classList.add("active"),e.appendChild(d)}if(y<17){var l=document.createElement("span");l.textContent="...",e.appendChild(l)}var r=I(E,E);e.appendChild(r),y===E&&r.classList.add("active");var s=I("»","next");e.appendChild(s)}function I(e,t){var n=document.createElement("button");return n.textContent=e,n.setAttribute("data-page",t),n.classList.add("pagination-item"),n}function M(e){var t="Add to Watched",o=!1,i="Add to Queue",d=!1,l=JSON.parse(localStorage.getItem("watched"))||[];l.some((function(t){return t.id===e.id}))&&(t="Remove from Watched",o=!0),(l=JSON.parse(localStorage.getItem("queue"))||[]).some((function(t){return t.id===e.id}))&&(i="Remove from Queue",d=!0),a.innerHTML='\n    <div class="modal-container">\n      <img src="'.concat(n+e.poster_path,'" alt="').concat(e.title,'">\n      <div class="modal-side-info">\n      <h2>').concat(e.title,'</h2>\n     \n      <div class="list-div">\n      <ul class="left-list">\n      <li>Vote/ Votes</li>\n      <li>Popularity</li>\n      <li>Original Title</li>\n      <li>Genre</li>\n      </ul>\n      <ul class="right-list">\n      <li><span class="vote-average">').concat(e.vote_average.toFixed(1),"</span> / ").concat(e.vote_count,"</li>\n      <li>").concat(e.popularity,"</li>\n      <li>").concat(e.original_title,"</li>\n      <li>").concat(e.genre_ids.map((function(e){return L[e]})).join(", "),'</li>\n\n      </ul>\n      </div>\n      <div class="side-info-about">\n      <h4>About</h4>\n      <p>').concat(e.overview,'</p>\n      </div>\n\n\n      <div class="button-group">\n        <button class="add-to-watched" data-id="').concat(e.id,'">').concat(t,'</button>\n        <button class="add-to-queue" data-id="').concat(e.id,'">').concat(i,"</button>\n      </div>\n      </div>\n      \n      </div>\n      "),console.log(e),a.classList.remove("hidden"),c.classList.remove("hidden"),a.querySelector(".add-to-watched").addEventListener("click",(function(){o?_(e,"watched"):q(e,"watched")})),a.querySelector(".add-to-queue").addEventListener("click",(function(){d?_(e,"queue"):q(e,"queue")})),c.addEventListener("click",T)}function T(){a.classList.add("hidden"),c.classList.add("hidden"),c.removeEventListener("click",T)}function q(e,t){var n=JSON.parse(localStorage.getItem(t))||[];n.some((function(t){return t.id===e.id}))?Notiflix.Notify.info("Movie already in ".concat(t,".")):(n.push(e),localStorage.setItem(t,JSON.stringify(n)),Notiflix.Notify.success("Successfully added movie to ".concat(t,"."))),M(e),B()}function B(){v.innerHTML="";var e=JSON.parse(localStorage.getItem(h))||[];0!==e.length?e.forEach((function(e){var t=document.createElement("div");t.classList.add("movie-item","photo"),t.innerHTML='\n      <img src="'.concat(n+e.poster_path,'" alt="').concat(e.title,'">\n      <h3>').concat(e.title,"</h3>\n      <p>").concat(e.genre_ids.map((function(e){return L[e]})).join(", ")," | ").concat(e.release_date?e.release_date.split("-")[0]:"N/A",' </p>\n      <button class="remove-from-library" data-id="').concat(e.id,'" data-type="').concat(h,'">Remove</button>\n    '),t.querySelector(".remove-from-library").addEventListener("click",(function(t){t.stopPropagation(),_(e,h)})),t.addEventListener("click",(function(){M(e)})),v.appendChild(t)})):v.innerHTML='<div class="no-movies"><img src="../src/images/no-movies.gif"></div>'}function _(e,t){var n=JSON.parse(localStorage.getItem(t))||[];n=n.filter((function(t){return t.id!==e.id})),localStorage.setItem(t,JSON.stringify(n)),Notiflix.Notify.success("Successfully removed movie from library."),B()}fetch("".concat(t,"/genre/movie/list?api_key=").concat(e,"&language=en-US")).then((function(e){return e.json()})).then((function(e){L=e.genres.reduce((function(e,t){return e[t.id]=t.name,e}),{}),S(y)})),i.addEventListener("keydown",(function(e){"Enter"===e.key&&(e.preventDefault(),k())})),d.addEventListener("click",(function(){k()})),document.getElementById("pagination").addEventListener("click",(function(e){var t=e.target;if("BUTTON"===t.tagName){var n=t.getAttribute("data-page");"prev"===n?y>1&&S(--y):"next"===n?y<E&&S(++y):S(y=parseInt(n))}})),l.addEventListener("change",(function(){document.body.classList.toggle("dark-mode"),localStorage.setItem("dark-mode",document.body.classList.contains("dark-mode"))})),"true"===localStorage.getItem("dark-mode")&&(document.body.classList.add("dark-mode"),l.checked=!0),r.addEventListener("click",(function(e){e.preventDefault(),u.classList.remove("hidden"),m.classList.add("hidden")})),s.addEventListener("click",(function(e){e.preventDefault(),u.classList.add("hidden"),m.classList.remove("hidden"),B()})),f.addEventListener("click",(function(){h="watched",B()})),p.addEventListener("click",(function(){h="queue",B()}))})),window.addEventListener("scroll",(function(){var e=document.getElementById("upward");document.documentElement.scrollTop>300||document.body.scrollTop>300?e.style.display="block":e.style.display="none"})),document.querySelector(".modal .close").addEventListener("click",closeModal),window.addEventListener("click",(function(e){e.target==document.getElementById("myModal")&&closeModal()})),document.getElementById("footer-text").addEventListener("click",openModal),document.addEventListener("DOMContentLoaded",(function(){closeModal()}));var modal=document.getElementById("auth-modal"),closeButton=document.querySelector(".close-button"),authTabs=document.querySelectorAll(".auth-tab"),authForms=document.querySelectorAll(".auth-form");document.querySelectorAll(".auth-trigger").forEach((function(e){e.addEventListener("click",(function(){modal.style.display="flex"}))})),closeButton.addEventListener("click",(function(){modal.style.display="none"})),window.addEventListener("click",(function(e){e.target==modal&&(modal.style.display="none")})),authTabs.forEach((function(e){e.addEventListener("click",(function(e){var t=e.target.getAttribute("data-target");authTabs.forEach((function(e){return e.classList.remove("active")})),e.target.classList.add("active"),authForms.forEach((function(e){e.id===t?e.classList.add("active"):e.classList.remove("active")}))}))}));
//# sourceMappingURL=index.1b4ad193.js.map
